time="2025-09-18T16:29:55+03:00" level=warning msg="The \"INFLUX_BUCKET\" variable is not set. Defaulting to a blank string."
time="2025-09-18T16:29:55+03:00" level=warning msg="/Users/osamaalabaji/Downloads/influxdb_3_measurement-lab-docker/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
influxdb-1  | Preparing data dir: /var/lib/influxdb
influxdb-1  | sysctl: setting key "vm.swappiness", ignoring: Read-only file system
influxdb-1  | vm.swappiness = 1
influxdb-1  | vm.dirty_ratio = 10
influxdb-1  | vm.dirty_background_ratio = 5
influxdb-1  | sysctl: setting key "vm.dirty_ratio", ignoring: Read-only file system
influxdb-1  | sysctl: setting key "vm.dirty_background_ratio", ignoring: Read-only file system
influxdb-1  | No INFLUXDB_MOUNT_DEVICE configured; skipping device mount
influxdb-1  | Persisted INFLUX_TOKEN from env to /run/influx_token (0600)
influxdb-1  | Found JSON admin token file at /run/influx_token; will pass --admin-token-file to server
influxdb-1  | Starting influxdb3 server in background with http-bind=0.0.0.0:8086...
influxdb-1  | Waiting for InfluxDB to become ready (HTTP health)...
influxdb-1  | InfluxDB HTTP responded with status 000000
influxdb-1  | Creating database (if missing): my-bucket
influxdb-1  | 2025-09-18T12:56:27.288851Z  INFO influxdb3_lib::commands::serve: InfluxDB 3 Core server starting node_id=node1 git_hash=571299afed3644c69811df9a71816446af64dec0 version=3.4.2 uuid=3b5d9196-9888-4800-97a0-409311ea151e num_cpus=4
influxdb-1  | 2025-09-18T12:56:27.289150Z  INFO influxdb3_clap_blocks::object_store: Object Store db_dir="/var/lib/influxdb" object_store_type="Directory"
influxdb-1  | 2025-09-18T12:56:27.289735Z  INFO influxdb3_lib::commands::serve: Creating shared query executor num_threads=4
influxdb-1  | Creating admin token (ensure a server-registered token is written to /run/influx_token)
influxdb-1  | Waiting for management API on one of: 8181 8086 (up to 120s)
influxdb-1  | 2025-09-18T12:56:27.328638Z  INFO influxdb3_catalog::object_store::versions::v2: catalog not found, creating a new one catalog_uuid=c69236ae-2f05-482c-92f4-b207c0be4130
influxdb-1  | 2025-09-18T12:56:27.329344Z  INFO influxdb3_catalog::object_store::versions::v2: persisted catalog checkpoint file sequence=0
influxdb-1  | 2025-09-18T12:56:27.329369Z  INFO influxdb3_catalog::catalog::versions::v2::update: create database name="_internal"
influxdb-1  | 2025-09-18T12:56:27.329399Z  INFO influxdb3_catalog::catalog::versions::v2: creating new database database_name="_internal"
influxdb-1  | 2025-09-18T12:56:27.329626Z  INFO influxdb3_catalog::object_store::versions::v2: persisted next catalog sequence put_result=PutResult { e_tag: Some("8-63f12e19c194f-ed"), version: None } object_path=CatalogFilePath(Path { raw: "node1/catalog/v2/logs/00000000000000000001.catalog" })
influxdb-1  | 2025-09-18T12:56:27.330090Z  INFO influxdb3_catalog::catalog::versions::v2: created internal database
influxdb-1  | 2025-09-18T12:56:27.330496Z  INFO influxdb3_lib::commands::serve: catalog initialized catalog_uuid=c69236ae-2f05-482c-92f4-b207c0be4130
influxdb-1  | 2025-09-18T12:56:27.330542Z  INFO influxdb3_lib::commands::serve: Initializing table index cache node_id="node1" max_entries=Some(100) concurrency_limit=20
influxdb-1  | 2025-09-18T12:56:27.330587Z  INFO influxdb3_write::table_index_cache: creating table indices from split snapshots
influxdb-1  | 2025-09-18T12:56:27.330692Z  WARN influxdb3_write::table_index_cache: Retrying conversion marker load after error error=Object at location /var/lib/influxdb/node1/table-index-conversion-completed not found: No such file or directory (os error 2) retry_after_ms=50 path=node1/table-index-conversion-completed
influxdb-1  | 2025-09-18T12:56:27.382955Z  WARN influxdb3_write::table_index_cache: Retrying conversion marker load after error error=Object at location /var/lib/influxdb/node1/table-index-conversion-completed not found: No such file or directory (os error 2) retry_after_ms=100 path=node1/table-index-conversion-completed
influxdb-1  | 2025-09-18T12:56:27.486171Z  INFO influxdb3_write::table_index_cache: loading all snapshot object metas
influxdb-1  | 2025-09-18T12:56:27.486725Z  INFO influxdb3_write::table_index_cache: Starting table index cache synchronization from object store node_prefix=node1
influxdb-1  | 2025-09-18T12:56:27.487086Z  INFO influxdb3_write::table_index_cache: Completed table index cache synchronization duration_ms=0 indices_updated=0 indices_created=0 total_cached=0 cache_capacity=Some(100)
influxdb-1  | 2025-09-18T12:56:27.487189Z  INFO influxdb3_lib::commands::serve: Initializing admin token from file: /run/influx_token
influxdb-1  | 2025-09-18T12:56:27.487309Z  INFO influxdb3_write::retention_period_handler: Starting retention period handler background task check_interval_seconds=1800
influxdb-1  | 2025-09-18T12:56:27.489627Z  INFO influxdb3_lib::commands::serve: Loaded admin token from file, name: _admin
influxdb-1  | 2025-09-18T12:56:27.489851Z  INFO influxdb3_catalog::object_store::versions::v2: persisted next catalog sequence put_result=PutResult { e_tag: Some("a-63f12e19e8a4f-1be"), version: None } object_path=CatalogFilePath(Path { raw: "node1/catalog/v2/logs/00000000000000000002.catalog" })
influxdb-1  | 2025-09-18T12:56:27.490934Z  INFO influxdb3_lib::commands::serve: Admin token '_admin' initialized from file
influxdb-1  | 2025-09-18T12:56:27.490992Z  INFO influxdb3_catalog::catalog::versions::v2::update: register node node_id="node1" core_count=4 mode=[Core] cli_params=Some("{\"wal-max-write-buffer-size\":\"100000\",\"log-filter\":\"info\",\"http-bind\":\"0.0.0.0:8086\",\"admin-token-file\":\"*******\",\"object-store\":\"file\",\"max-http-request-size\":\"20971520\",\"wal-flush-interval\":\"10s\",\"node-id\":\"node1\",\"data-dir\":\"/var/lib/influxdb\",\"plugin-dir\":\"/plugins\"}")
influxdb-1  | 2025-09-18T12:56:27.491016Z  INFO influxdb3_catalog::catalog::versions::v2::update: registering new node to the catalog node_id="node1" instance_id="3b44578f-13b4-4317-8ecf-0a35b80e89f1"
influxdb-1  | 2025-09-18T12:56:27.491154Z  INFO influxdb3_catalog::object_store::versions::v2: persisted next catalog sequence put_result=PutResult { e_tag: Some("b-63f12e19e8e37-2a9"), version: None } object_path=CatalogFilePath(Path { raw: "node1/catalog/v2/logs/00000000000000000003.catalog" })
influxdb-1  | 2025-09-18T12:56:27.491327Z  INFO influxdb3_lib::commands::serve: catalog initialized instance_id="3b44578f-13b4-4317-8ecf-0a35b80e89f1"
influxdb-1  | 2025-09-18T12:56:27.491414Z  INFO influxdb3_catalog::catalog::versions::v2::update: set gen1 duration duration_ns=600000000000
influxdb-1  | 2025-09-18T12:56:27.491645Z  INFO influxdb3_catalog::object_store::versions::v2: persisted next catalog sequence put_result=PutResult { e_tag: Some("c-63f12e19e921f-b2"), version: None } object_path=CatalogFilePath(Path { raw: "node1/catalog/v2/logs/00000000000000000004.catalog" })
influxdb-1  | 2025-09-18T12:56:27.492180Z  INFO influxdb3_wal::object_store: replaying WAL files
influxdb-1  | 2025-09-18T12:56:27.492255Z  INFO influxdb3_wal::object_store: completed replaying wal files time_taken=76.25Âµs
influxdb-1  | 2025-09-18T12:56:27.492452Z  INFO influxdb3_lib::commands::serve: setting up background mem check for query buffer
influxdb-1  | 2025-09-18T12:56:27.492465Z  INFO influxdb3_lib::commands::serve: setting up telemetry store
influxdb-1  | 2025-09-18T12:56:27.492686Z  INFO influxdb3_write::deleter: Started catalog hard deleter task. delete_grace_period=86400s
influxdb-1  | 2025-09-18T12:56:29.201031Z  INFO influxdb3_lib::commands::serve: setting up server with authz disabled for paths paths_without_authz=[]
influxdb-1  | 2025-09-18T12:56:29.201105Z  INFO influxdb3_server: startup time: 1912ms address=0.0.0.0:8086
influxdb-1  | Initialization complete. Bringing foreground process...
influxdb-1  | WARNING: Management API not reachable on any candidate ports (8181 8086); token creation will be skipped and the env-provided token (if any) will be used for local checks only.
influxdb-1  | 2025-09-18T12:59:42.168359Z ERROR influxdb3_server::http: cannot authenticate token e=MissingToken
influxdb-1  | 2025-09-18T13:03:14.818561Z ERROR influxdb3_server::http: cannot authenticate token e=MissingToken
influxdb-1  | 2025-09-18T13:04:08.121091Z ERROR influxdb3_server::http: cannot authenticate token e=MissingToken
influxdb-1  | 2025-09-18T13:11:05.535524Z ERROR influxdb3_server::http: cannot authenticate token e=MissingToken
influxdb-1  | 2025-09-18T13:11:05.687238Z  INFO influxdb3_catalog::object_store::versions::v2: persisted next catalog sequence put_result=PutResult { e_tag: Some("d-63f1315f6c229-764"), version: None } object_path=CatalogFilePath(Path { raw: "node1/catalog/v2/logs/00000000000000000005.catalog" })
influxdb-1  | 2025-09-18T13:11:07.467437Z  INFO influxdb3_wal::object_store: flushing WAL buffer to object store host="node1" n_ops=1 min_timestamp_ns=1758201065657000000 max_timestamp_ns=1758201065657000000 wal_file_number=1
influxdb-1  | 2025-09-18T13:13:55.412413Z ERROR influxdb3_server::http: cannot authenticate token e=MissingToken
influxdb-1  | 2025-09-18T13:13:57.466545Z  INFO influxdb3_wal::object_store: flushing WAL buffer to object store host="node1" n_ops=1 min_timestamp_ns=1758201235577000000 max_timestamp_ns=1758201235577000000 wal_file_number=2
influxdb-1  | 2025-09-18T13:14:07.462994Z  INFO influxdb3_wal::object_store: flushing WAL buffer to object store host="node1" n_ops=1 min_timestamp_ns=1758201235577000000 max_timestamp_ns=1758201235577000000 wal_file_number=3
influxdb-1  | 2025-09-18T13:14:17.466757Z  INFO influxdb3_wal::object_store: flushing WAL buffer to object store host="node1" n_ops=1 min_timestamp_ns=1758201235577000000 max_timestamp_ns=1758201235577000000 wal_file_number=4
influxdb-1  | 2025-09-18T13:15:39.691651Z ERROR influxdb3_server::http: cannot authenticate token e=MissingToken
influxdb-1  | 2025-09-18T13:15:45.485731Z ERROR influxdb3_server: Error serving connection: hyper::Error(IncompleteMessage)
influxdb-1  | 2025-09-18T13:15:45.622794Z ERROR influxdb3_server: Error serving connection: hyper::Error(IncompleteMessage)
influxdb-1  | 2025-09-18T13:15:45.622794Z ERROR influxdb3_server: Error serving connection: hyper::Error(IncompleteMessage)
influxdb-1  | 2025-09-18T13:15:45.653866Z ERROR influxdb3_server: Error serving connection: hyper::Error(IncompleteMessage)
influxdb-1  | 2025-09-18T13:15:47.461561Z  INFO influxdb3_wal::object_store: flushing WAL buffer to object store host="node1" n_ops=1 min_timestamp_ns=1758201339861000000 max_timestamp_ns=1758201339861000000 wal_file_number=5
influxdb-1  | 2025-09-18T13:18:15.723254Z ERROR influxdb3_server::http: cannot authenticate token e=MissingToken
influxdb-1  | 2025-09-18T13:18:17.458256Z  INFO influxdb3_wal::object_store: flushing WAL buffer to object store host="node1" n_ops=1 min_timestamp_ns=1758201495894000000 max_timestamp_ns=1758201495894000000 wal_file_number=6
influxdb-1  | 2025-09-18T13:21:41.067214Z ERROR influxdb3_server::http: cannot authenticate token e=MissingToken
influxdb-1  | 2025-09-18T13:21:47.036485Z ERROR influxdb3_server: Error serving connection: hyper::Error(IncompleteMessage)
influxdb-1  | 2025-09-18T13:21:47.086723Z ERROR influxdb3_server: Error serving connection: hyper::Error(IncompleteMessage)
influxdb-1  | 2025-09-18T13:21:47.450456Z  INFO influxdb3_wal::object_store: flushing WAL buffer to object store host="node1" n_ops=1 min_timestamp_ns=1758201701248000000 max_timestamp_ns=1758201701248000000 wal_file_number=7
influxdb-1  | 2025-09-18T13:29:55.000743Z ERROR influxdb3_server::http: cannot authenticate token e=MissingToken
influxdb-1  | 2025-09-18T13:31:38.862906Z  INFO influxdb3_wal::object_store: flushing WAL buffer to object store host="node1" n_ops=1 min_timestamp_ns=1758202195177000000 max_timestamp_ns=1758202195177000000 wal_file_number=8
influxdb-1  | 2025-09-18T13:31:47.850665Z ERROR influxdb3_server: Error serving connection: hyper::Error(IncompleteMessage)
influxdb-1  | 2025-09-18T13:31:47.991943Z ERROR influxdb3_server: Error serving connection: hyper::Error(IncompleteMessage)
influxdb-1  | 2025-09-18T13:31:48.860740Z  INFO influxdb3_wal::object_store: flushing WAL buffer to object store host="node1" n_ops=1 min_timestamp_ns=1758202195177000000 max_timestamp_ns=1758202195177000000 wal_file_number=9
[Kinfluxdb-1 has been recreated

